webpackJsonp([0],{"1FRr":function(t,n,o){"use strict";var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"login",attrs:{data:t.win}},[o("h3",[t._v("连接信息")]),t._v(" "),o("ul",[o("li",[o("label",[t._v("主机：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.host,expression:"host"}],attrs:{type:"text"},domProps:{value:t.host},on:{input:function(n){n.target.composing||(t.host=n.target.value)}}})]),t._v(" "),o("li",[o("label",[t._v("端口：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.port,expression:"port"}],attrs:{type:"text"},domProps:{value:t.port},on:{input:function(n){n.target.composing||(t.port=n.target.value)}}})]),t._v(" "),o("li",[o("label",[t._v("用户：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text"},domProps:{value:t.user},on:{input:function(n){n.target.composing||(t.user=n.target.value)}}})]),t._v(" "),o("li",[o("label",[t._v("密码：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],attrs:{type:"password"},domProps:{value:t.pass},on:{input:function(n){n.target.composing||(t.pass=n.target.value)}}})]),t._v(" "),o("li",{staticClass:"login_btn"},[o("a",{attrs:{href:"javascript:void(0);"},on:{click:function(n){n.preventDefault(),t.connect(n)}}},[t._v("确认")])]),t._v(" "),o("li",{staticClass:"login_msg"},[t._v(t._s(t.msg))])])])},s=[],i={render:e,staticRenderFns:s};n.a=i},M93x:function(t,n,o){"use strict";function e(t){o("O4eK")}var s=o("xJD8"),i=o("piig"),a=o("VU/8"),r=e,c=a(s.a,i.a,r,null,null);n.a=c.exports},NHnr:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o("7+uW"),s=o("M93x");e.a.config.productionTip=!1,new e.a({el:"#app",template:"<App/>",components:{App:s.a}})},O4eK:function(t,n){},SyvI:function(t,n,o){"use strict";function e(t){o("gP7a")}var s=o("aLck"),i=o("oN9B"),a=o("VU/8"),r=e,c=a(s.a,i.a,r,"data-v-2c718a60",null);n.a=c.exports},aLck:function(t,n,o){"use strict";var e=o("7t+N"),s=o.n(e);n.a={name:"command",data:function(){return{msg:[{type:"content",content:"Connection success."}],command:"",conn:null,historyCommand:[],history:0}},mounted:function(){this.$nextTick(function(){s()(".input_command input").focus()})},methods:{sendCommand:function(){var t={};if(""===this.command)return t.content="",t.type="command",this.msg.push(t),void n.scrollTop();var n=this;t={},t.content=this.command,t.type="command",this.msg.push(t),this.historyCommand.push(this.command),this.history=this.historyCommand.length,this.conn=new WebSocket("ws://"+document.location.host+"/cmd"),this.conn.onopen=function(){n.conn.send(n.command),n.command=""},this.conn.onmessage=function(o){t={},t.content=o.data.split("\n"),t.type="content",n.msg.push(t),n.scrollTop()},n.scrollTop()},scrollTop:function(){this.$nextTick(function(){var t=document.body;t.scrollTop=t.scrollHeight})},historyUp:function(){this.history--,this.history<=0&&(this.history=this.historyCommand.length-1),this.command=this.historyCommand[this.history]},historyDown:function(){this.history++,this.history>=this.historyCommand.length-1&&(this.history=0),this.command=this.historyCommand[this.history]}}}},eVtS:function(t,n){},gP7a:function(t,n){},"nKb+":function(t,n,o){"use strict";var e=o("7t+N"),s=o.n(e);n.a={name:"login",data:function(){return{host:"192.168.33.138",port:22,user:"vagrant",pass:"vagrant",msg:"",win:1}},methods:{connect:function(){var t=this;s.a.ajax({type:"post",dataType:"json",data:{action:"connect",host:this.host,port:this.port,user:this.user,pass:this.pass},url:"http://"+document.location.host}).done(function(n){"1"===n.err?t.msg=n.msg:(t.msg=n.msg,t.win=2,t.$emit("login-return",t.win))}).fail(function(n){t.msg="获取信息失败：服务器错误"})}}}},oN9B:function(t,n,o){"use strict";var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"command"},[o("div",{staticClass:"show_command"},t._l(t.msg,function(n){return o("p",["content"===n.type?o("label",[n.content instanceof Array?t._l(n.content,function(e,s){return o("em",[t._v(t._s(e)),s<=n.content.length-1&&""!=e?o("br"):t._e()])}):[t._v("\n          "+t._s(n.content)),o("br")]],2):t._e(),t._v(" "),"command"===n.type?o("label",{staticClass:"command_text"},[t._v("$"+t._s(n.content))]):t._e()])})),t._v(" "),o("div",{staticClass:"input_command"},[o("span",[t._v("$")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.command,expression:"command"}],attrs:{type:"text"},domProps:{value:t.command},on:{keyup:[function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13))return null;t.sendCommand(n)},function(n){if(!("button"in n)&&t._k(n.keyCode,"up",38))return null;t.historyUp(n)},function(n){if(!("button"in n)&&t._k(n.keyCode,"down",40))return null;t.historyDown(n)}],input:function(n){n.target.composing||(t.command=n.target.value)}}})])])},s=[],i={render:e,staticRenderFns:s};n.a=i},piig:function(t,n,o){"use strict";var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"app",attrs:{id:"app"}},[1==t.win?o("login",{attrs:{data:t.win},on:{"login-return":t.getWin}}):t._e(),t._v(" "),2==t.win?o("command",{attrs:{data:t.win}}):t._e()],1)},s=[],i={render:e,staticRenderFns:s};n.a=i},xJD8:function(t,n,o){"use strict";var e=o("xJsL"),s=o("SyvI");n.a={name:"app",components:{Login:e.a,Command:s.a},data:function(){return{win:1}},methods:{getWin:function(t){this.win=t}}}},xJsL:function(t,n,o){"use strict";function e(t){o("eVtS")}var s=o("nKb+"),i=o("1FRr"),a=o("VU/8"),r=e,c=a(s.a,i.a,r,"data-v-13f09284",null);n.a=c.exports}},["NHnr"]);
//# sourceMappingURL=app.f845c2afbeeda1554d52.js.map